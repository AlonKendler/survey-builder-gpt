# README.md

## Project Overview

This project is a survey application that utilizes the OpenAI GPT-3.5-turbo model to generate and process survey questions. The application is built using Next.js, Firebase, and the OpenAI API.

## Features

- Fetch survey templates from the database
- Generate dynamic survey questions based on user responses
- Store survey sessions and templates in Firebase
- Utilize GPT-3.5-turbo model to provide intelligent survey experiences

## Explanation of Key Files

### server/chatGPTApi.ts

This file contains functions to interact with the OpenAI API. It includes `parseResponseToQuestion` to parse GPT-3.5-turbo responses and convert them into survey questions, and `getQuestionFromGPT` to send messages to GPT and receive responses. It also has `genereateFirstQuestionForTemplate` to generate the first question for a survey template using GPT.

### server/dbClient.ts

This file contains the `DBClient` class, responsible for interacting with the Firebase Firestore database. It includes methods for fetching and updating session data, creating or updating survey templates, fetching a survey template by ID, and fetching all survey templates.

### pages/api/survey-questions/first.ts

This API route handles the first survey question, fetching the survey template, generating a UUID for the survey session, and interacting with GPT to generate the first question.

### pages/api/survey-questions/next.ts

This API route handles subsequent survey questions, updating the session data with user responses and generating the next question based on user input.

### pages/api/templates/[templateId].ts

This API route fetches a survey template by ID from the Firebase Firestore database.

### pages/api/templates/index.ts

This API route fetches all survey templates from the Firebase Firestore database.

## How to Run

1. Install dependencies with `npm install`.
2. Set up your environment variables for the OpenAI API key and Firebase configuration.
3. Run the development server with `npm run dev`.

## UX Flow

1. Users access the application and choose a survey template.
2. The first survey question is generated by GPT and displayed to the user.
3. Users answer the question, and the application sends the response to the backend.
4. The backend updates the session data and generates the next question.
5. The next question is displayed to the user, and the process continues until the survey is complete.

## Suggested Next Features

1. Add a feature to save completed surveys and allow users to view their past survey results.
2. Implement a user authentication system to restrict access to specific survey templates and user data.
3. Allow users to create and customize their own survey templates, including custom GPT prompts.
4. Provide a survey summary, including insights and analysis generated by GPT based on user responses.
5. Implement a feature to export survey results in various formats (CSV, JSON, PDF).
